# Buddy Sync WebSocket Server
# Cloudflare Worker + Durable Object
#
# Setup:
#   1. npm install -g wrangler (or npx wrangler)
#   2. wrangler login
#   3. wrangler deploy
#
# The worker URL will be: https://buddy-sync.<your-subdomain>.workers.dev

name = "buddy-sync"
main = "worker.js"
compatibility_date = "2024-09-23"

# Durable Object bindings
[[durable_objects.bindings]]
name = "BUDDY_ROOM"
class_name = "BuddyRoom"

# Database migration for the Durable Object
[[migrations]]
tag = "v1"
new_classes = ["BuddyRoom"]
